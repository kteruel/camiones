{% extends "CoreBundle:Default:backend.html.twig" %}

{% trans_default_domain 'FOSUserBundle' %}

{% block pageHeader %}{{ 'user.user.page_header'|trans }}{% endblock %}

{% block iconPageHeader %}user{% endblock %}

{% block widgetName %}{{ 'user.user.index.widget_name'|trans }} {% endblock %}

{% block widgetIcon %}table{% endblock %}

{% block widgetBody %}
    <table id="dataTable" class="table table-striped table-bordered table-hover" width="100%">
        <thead>
            <tr>
                <th data-class="expand">{{ 'user.user.label.username' | trans }}</th>
                <th data-hide="phone">{{ 'user.user.label.email' | trans }}</th>
                <th>{{ 'table.header.actions' | trans({}, 'CoreBundle') }}</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% include 'CoreBundle:Default:table_actions.html.twig' with
                            {
                                'edit_path' : path('user_edit', { 'id': user.id } ),
                                'show_path' : path('user_show', { 'id': user.id } )
                            }
                        %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% include "::dataTables.html.twig" %}
    <script>
        $(document).ready(function() {
            new DataTableWidget();
        });
    </script>
{% endblock %}